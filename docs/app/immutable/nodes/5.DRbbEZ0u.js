var G=Object.defineProperty;var W=(o,t,e)=>t in o?G(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var p=(o,t,e)=>W(o,typeof t!="symbol"?t+"":t,e);import{a as j,t as Y}from"../chunks/BZpbu9DV.js";import{w as P,x as V,z as K,A as _,Z as J,k as Q,_ as tt,h as et,p as it,f as nt,Y as st,a as ot,s as T,$ as rt,V as A,r as z,t as $,a0 as at,X as H}from"../chunks/X8O1Ys69.js";import{s as lt}from"../chunks/DW4ICwd6.js";import{a as ct,r as ut,s as x}from"../chunks/C5pRBKRm.js";import{b as dt}from"../chunks/CR1_hawT.js";function ft(o){var t=K,e=_;P(null),V(null);try{return o()}finally{P(t),V(e)}}function ht(o,t,e,i=e){o.addEventListener(t,()=>ft(e));const n=o.__on_r;n?o.__on_r=()=>{n(),i(!0)}:o.__on_r=()=>i(!0),ct()}function Et(o,t,e=t){var i=J();ht(o,"input",n=>{var s=n?o.defaultValue:o.value;if(s=U(o)?k(s):s,e(s),i&&s!==(s=t())){var r=o.selectionStart,a=o.selectionEnd;o.value=s??"",a!==null&&(o.selectionStart=r,o.selectionEnd=Math.min(a,o.value.length))}}),(et&&o.defaultValue!==o.value||Q(t)==null&&o.value)&&e(U(o)?k(o.value):o.value),tt(()=>{var n=t();U(o)&&n===k(o.value)||o.type==="date"&&!n&&!o.value||n!==o.value&&(o.value=n??"")})}function U(o){var t=o.type;return t==="number"||t==="range"}function k(o){return o===""?null:+o}class It{constructor(t){this.bitCapacity=t;const e=this.bitCapacity+7>>3;this.buffer=new Uint8Array(e),this.bitOffset=0}append(t,e){for(let i=0;i<e;i++){const n=this.buffer[this.bitOffset>>3],r=1<<7-(this.bitOffset&7),a=1<<e-1-i;this.buffer[this.bitOffset>>3]=n&~r|(t&a?r:0),this.bitOffset++}}position(){return this.bitOffset}read(t){return this.buffer[t>>3]&1<<7-(t&7)?1:0}}const y=class y{static canEncode(t){return[...t].every(e=>y.CHARSET.includes(e))}static payloadSize(t){const e=t.length;return 10*Math.floor(e/3)+e%3*4-Math.floor(e%3/2)}static countSize(t){return t<10?10:t<27?12:14}static totalSize(t,e){return S.MODE_BITS+y.countSize(t)+y.payloadSize(e)}static encode(t,e,i){const n=[...i].map(s=>s.charCodeAt(0)-48);t.append(y.MODE,S.MODE_BITS),t.append(n.length,y.countSize(e));for(let s=0;s<n.length;){n.length-s>3||n.length-s;let r=n[s],a=4;s++,s<n.length&&(r=r*10+n[s],a+=3,s++),s<n.length&&(r=r*10+n[s],a+=3,s++),t.append(r,a)}}};p(y,"MODE",1),p(y,"CHARSET","0123456789");let L=y;const R=class R{static canEncode(t){return[...t].every(e=>R.CHARSET.includes(e))}static payloadSize(t){const e=t.length;return 11*Math.floor(e/2)+6*(e%2)}static countSize(t){return t<10?9:t<27?11:13}static totalSize(t,e){return S.MODE_BITS+R.countSize(t)+R.payloadSize(e)}static encode(t,e,i){const n=[...i].map(s=>R.CHARSET.indexOf(s));t.append(R.MODE,S.MODE_BITS),t.append(n.length,R.countSize(e));for(let s=0;s<n.length;){let r=n[s],a=6;s++,s<n.length&&(r=r*45+n[s],a+=5,s++),t.append(r,a)}}};p(R,"MODE",2),p(R,"CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");let Z=R;const w=class w{static canEncode(t){return[...t].every(e=>e.charCodeAt(0)>=0&&e.charCodeAt(0)<=255)}static payloadSize(t){return 8*t.length}static countSize(t){return t<10?8:(t<27,16)}static totalSize(t,e){return S.MODE_BITS+w.countSize(t)+w.payloadSize(e)}static encode(t,e,i){const n=[...i].map(s=>s.charCodeAt(0));t.append(w.MODE,S.MODE_BITS),t.append(n.length,w.countSize(e));for(let s=0;s<n.length;s++)t.append(n[s],8)}};p(w,"MODE",4);let B=w;const b=class b{constructor(t){this.text=t;for(let e of Object.values(b.MODES))if(e.canEncode(this.text)){this.mode=e;return}throw"Cannot encode text"}};p(b,"MODES",{numeric:L,alphanumeric:Z,eightBit:B}),p(b,"MODE_BITS",4),p(b,"MODE_INDICATOR_TERMINATOR",0);let S=b;class O{static Multiply(t,e){let i=0;for(let n=7;n>=0;n--)i=(i<<1^(i>>7)*285)&255,i^=(e>>n&1)*t;return i}static Divisor(t){const e=new Uint8Array(t);e.fill(0),e[t-1]=1;let i=1;for(let n=0;n<t;n++){for(let s=0;s<t;s++)e[s]=O.Multiply(e[s],i),s+1<t&&(e[s]^=e[s+1]);i=O.Multiply(i,2)&255}return e}static Remainder(t,e,i,n,s,r,a){r.fill(0,a,a+s);for(let c=0;c<i;c++){let f=t[e+c]^r[a+0];r.copyWithin(a,a+1,a+1+s-1),r[a+s-1]=0;for(let d=0;d<s;d++)r[a+d]^=O.Multiply(n[d],f)}}}const l=class l{static calculateDimension(t){return 17+4*t}static calculateMask(t,e,i){switch(t){case 0:return(i+e&1)==0;case 1:return(i&1)==0;case 2:return e%3==0;case 3:return(i+e)%3==0;case 4:return((i>>1)+(e/3|0)&1)==0;case 5:return(i*e&1)+i*e%3==0;case 6:return((i*e&1)+i*e%3&1)==0;case 7:return(i*e%3+(i+e&1)&1)==0;default:return!1}}static alignmentCoordinates(t){const e=t<=1?0:Math.floor(t/7)+2,i=Array(e),n=t==32?26:Math.floor((t*4+e*2+1)/(e*2-2))*2;let s=t*4+10;for(let r=e-1;r>0;r--)i[r]=s,s-=n;return e>0&&(i[0]=6),i}constructor(t){this.version=t,this.dimension=l.calculateDimension(this.version);const e=this.dimension*this.dimension;this.buffer=new Array(e),this.identity=new Array(e),this.quiet=l.QUIET_STANDARD,this.invert=!1,this.text=null}setModule(t,e,i,n){if(t<0||e<0||t>=this.dimension||e>=this.dimension)return;const s=e*this.dimension+t;this.buffer[s]=i,typeof n<"u"&&(this.identity[s]=n)}getModule(t,e){if(t<0||e<0||t>=this.dimension||e>=this.dimension)return null;const i=e*this.dimension+t;return this.buffer[i]}identifyModule(t,e){if(t<0||e<0||t>=this.dimension||e>=this.dimension)return;const i=e*this.dimension+t;return this.identity[i]}drawFinder(t,e){for(let i=-Math.floor(l.FINDER_SIZE/2)-1;i<=Math.floor(l.FINDER_SIZE/2)+1;i++)for(let n=-Math.floor(l.FINDER_SIZE/2)-1;n<=Math.floor(l.FINDER_SIZE/2)+1;n++){let s=(Math.abs(n)>Math.abs(i)?Math.abs(n):Math.abs(i))&1?l.MODULE_DARK:l.MODULE_LIGHT;n==0&&i==0&&(s=l.MODULE_DARK);const r=n==0&&i==0?"FI":"Fi";this.setModule(t+n,e+i,s,r)}}drawTiming(){const t="Ti";for(let e=l.FINDER_SIZE+1;e<this.dimension-l.FINDER_SIZE-1;e++){let i=~e&1?l.MODULE_DARK:l.MODULE_LIGHT;this.setModule(e,l.TIMING_OFFSET,i,t),this.setModule(l.TIMING_OFFSET,e,i,t)}}drawAlignment(t,e){for(let i=-2;i<=l.ALIGNMENT_RADIUS;i++)for(let n=-2;n<=l.ALIGNMENT_RADIUS;n++){let s=1-((Math.abs(n)>Math.abs(i)?Math.abs(n):Math.abs(i))&1)?l.MODULE_DARK:l.MODULE_LIGHT;const r=n==0&&i==0?"AL":"Al";this.setModule(t+n,e+i,s,r)}}populateFunctionPatterns(){this.drawFinder(Math.floor(l.FINDER_SIZE/2),Math.floor(l.FINDER_SIZE/2)),this.drawFinder(this.dimension-1-Math.floor(l.FINDER_SIZE/2),Math.floor(l.FINDER_SIZE/2)),this.drawFinder(Math.floor(l.FINDER_SIZE/2),this.dimension-1-Math.floor(l.FINDER_SIZE/2)),this.drawTiming();const t=l.alignmentCoordinates(this.version);for(let e of t)for(let i of t)e<=l.FINDER_SIZE&&i<=l.FINDER_SIZE||e>=this.dimension-1-l.FINDER_SIZE&&i<=l.FINDER_SIZE||e<=l.FINDER_SIZE&&i>=this.dimension-1-l.FINDER_SIZE||this.drawAlignment(e,i);this.drawFormatInfo(0),this.drawVersionInfo(0)}cursorReset(){this.cursorX=this.dimension-1,this.cursorY=this.dimension-1}cursorAdvance(){for(;this.cursorX>=0;)if(this.cursorX&1^(this.cursorX>l.TIMING_OFFSET?1:0)?this.cursorX--:(this.cursorX++,(this.cursorX-(this.cursorX>l.TIMING_OFFSET?1:0))/2&1?this.cursorY<=0?this.cursorX-=2:this.cursorY--:this.cursorY>=this.dimension-1?this.cursorX-=2:this.cursorY++),!this.identifyModule(this.cursorX,this.cursorY))return!0;return!1}cursorWrite(t,e,i){let n=e;for(let s=0;s<i;s++){let r=t.read(n);if(this.setModule(this.cursorX,this.cursorY,r),n++,!this.cursorAdvance())break}return n-e}drawFormatInfo(t){const e="Fo";for(let i=0;i<15;i++){const n=t>>i&1;i<6?this.setModule(l.FINDER_SIZE+1,i,n,e):i==6?this.setModule(l.FINDER_SIZE+1,l.FINDER_SIZE,n,e):i==7?this.setModule(l.FINDER_SIZE+1,l.FINDER_SIZE+1,n,e):i==8?this.setModule(l.FINDER_SIZE,l.FINDER_SIZE+1,n,e):this.setModule(14-i,l.FINDER_SIZE+1,n,e),i<8?this.setModule(this.dimension-1-i,l.FINDER_SIZE+1,n,e):this.setModule(l.FINDER_SIZE+1,this.dimension-l.FINDER_SIZE-8+i,n,e)}this.setModule(l.FINDER_SIZE+1,this.dimension-1-l.FINDER_SIZE,l.MODULE_DARK,e)}drawVersionInfo(t){const e="Ve";if(!(t===null||this.version<7))for(let i=0;i<18;i++){const n=t>>i&1,s=Math.floor(i/l.VERSION_SIZE),r=i%l.VERSION_SIZE;this.setModule(s,this.dimension-1-l.FINDER_SIZE-l.VERSION_SIZE+r,n,e),this.setModule(this.dimension-1-l.FINDER_SIZE-l.VERSION_SIZE+r,s,n,e)}}applyMaskPattern(t){for(let e=0;e<this.dimension;e++)for(let i=0;i<this.dimension;i++)if(!this.identifyModule(i,e)&&l.calculateMask(t,i,e)){const a=1^this.getModule(i,e);this.setModule(i,e,a)}}evaluatePenalty(){let s=0;for(let r=0;r<=1;r++){let a=Array(5),c=0;for(let f=0;f<this.dimension;f++){let d=-1,E=0;for(let M=0;M<this.dimension;M++){let g=this.getModule(r?f:M,r?M:f);if(g==d&&E++,g!=d||M>=this.dimension-1){if(d>=0&&(E>=5&&(s+=3+(E-5)),c++,a[c%5]=E,c>=5)){let u=a[(c+1)%5];a[c%5]==3*u&&u==a[(c+2)%5]&&u==a[(c+3)%5]&&u==a[(c+4)%5]&&(s+=40)}E=1,d=g}}}}for(let r=0;r<this.dimension-1;r++)for(let a=0;a<this.dimension-1;a++){let c=this.getModule(a,r);c+=this.getModule(a+1,r),c+=this.getModule(a,r+1),c+=this.getModule(a+1,r+1),(c==0||c==4)&&(s+=3)}{let r=0;for(let E=0;E<this.dimension;E++)for(let M=0;M<this.dimension;M++)this.getModule(M,E)==l.MODULE_DARK&&r++;let a=(100*r+this.dimension*this.dimension/2)/(this.dimension*this.dimension),c=Math.abs(a-50),d=10*Math.floor(c/5);s+=d}return s}};p(l,"MODULE_LIGHT",0),p(l,"MODULE_DARK",1),p(l,"FINDER_SIZE",7),p(l,"TIMING_OFFSET",6),p(l,"VERSION_SIZE",3),p(l,"ALIGNMENT_RADIUS",2),p(l,"QUIET_NONE",0),p(l,"QUIET_STANDARD",4);let N=l;const h=class h{static dimension(t){return 17+4*t}static totalDataModules(t){return(16*t+128)*t+64-(t<2?0:(25*(Math.floor(t/7)+2)-10)*(Math.floor(t/7)+2)-55)-(t<7?0:36)}static dataCapacity(t,e){const i=Math.floor(h.totalDataModules(t)/8),n=h.eccBlockCodewords(t,e)*h.eccBlockCount(t,e);return(i-n)*8}static eccBlockCount(t,e){return[[0,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[0,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[0,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81],[0,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68]][e][t]}static eccBlockCodewords(t,e){return[[0,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[0,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[0,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[0,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30]][e][t]}static calculateVersionInfo(t){if(t<7)return null;let e=t;for(let n=0;n<12;n++)e=e<<1^(e>>>11)*7973;return t<<12|e}static calculateFormatInfo(t,e){const i=(t&3)<<3|e&7;let n=i;for(let a=0;a<10;a++)n=n<<1^(n>>>9)*1335;let s=i<<10|n&1023;return s^=21522,s}static measureSegments(t,e){let i=0;for(let n of t)i+=n.mode.totalSize(e,n.text);return i}static doSegmentsFit(t,e,i){const n=h.measureSegments(t,e),s=h.dataCapacity(e,i);return n<=s}static findMinimumVersion(t,e,i=h.VERSION_MIN,n=h.VERSION_MAX){for(let s=i;s<=n;s++)if(h.doSegmentsFit(t,s,e))return s;throw"Cannot fit data in any allowed versions"}static tryToImproveErrorCorrectionLevel(t,e,i){const n=Object.values(h.ErrorCorrectionLevel);for(let s=1;s<n.length;s++)i==n[s-1]&&h.doSegmentsFit(t,e,n[s])&&(i=n[s]);return i}static writeData(t,e,i){for(let n of i)n.mode.encode(t,e,n.text)}static writePadding(t,e,i){const n=h.dataCapacity(e,i);let s;for(s=Math.min(n-t.position(),S.MODE_BITS),t.append(S.MODE_INDICATOR_TERMINATOR,s),s=Math.min(n-t.position(),8-(t.position()&7)&7),t.append(0,s);(s=Math.min(n-t.position(),16))>0;)t.append(h.PAD_CODEWORDS>>16-s,s);console.assert(t.position()===n,"Unexpectedly failed to correctly fill the data buffer")}static calculateEccAndFillMatrix(t,e,i,n){const s=h.eccBlockCount(e,i),r=h.eccBlockCodewords(e,i),a=h.totalDataModules(e),c=Math.floor((a-8*r*s)/8);console.assert(8*c===t.bitOffset,`Expected current bit position ${t.bitOffset} to match ECC offset *8 ${8*c}`);const f=O.Divisor(r),d=c,E=Math.floor(d/s),M=s-(d-E*s),g=E+(M>=s?0:1);for(let I=0;I<s;I++){let D;I<M?D=I*E:D=I*E+(I-M);let m=E+(I<M?0:1),F=c+I*r;O.Remainder(t.buffer,D,m,f,r,t.buffer,F)}n.cursorReset();let u=0;for(let I=0;I<g;I++)for(let D=0;D<s;D++){if(I>=E&&D<M)continue;const F=(D*E+(D>M?D-M:0)+I)*8;u+=n.cursorWrite(t,F,8)}for(let I=0;I<r;I++)for(let D=0;D<s;D++){const m=8*c+D*r*8+I*8;u+=n.cursorWrite(t,m,8)}const v=N.MODULE_LIGHT;for(;u<a&&(n.setModule(n.cursorX,n.cursorY,v),u++,!!n.cursorAdvance()););}static findOptimalMaskPattern(t,e){let i=-1,n=null;for(let s=0;s<=7;s++){t.applyMaskPattern(s);const r=h.calculateFormatInfo(e,s);t.drawFormatInfo(r);const a=t.evaluatePenalty();t.applyMaskPattern(s),(i<0||a<i)&&(i=a,n=s)}return n}constructor(){}static generate(t,e){const i=Object.assign({errorCorrectionLevel:h.ErrorCorrectionLevel.M,minVersion:h.VERSION_MIN,maxVersion:h.VERSION_MAX,optimizeEcc:!0,maskPattern:null,quiet:N.QUIET_STANDARD,invert:!1},e),s=(Array.isArray(t)?t:[t]).map(u=>new S(u));let r=i.errorCorrectionLevel;const a=h.findMinimumVersion(s,r,i.minVersion,i.maxVersion);i.optimizeEcc&&(r=h.tryToImproveErrorCorrectionLevel(s,a,r));const c=h.totalDataModules(a),f=new It(c);h.writeData(f,a,s),h.writePadding(f,a,r);const d=new N(a);d.text=t,d.quiet=i.quiet,d.invert=i.invert,d.populateFunctionPatterns(),h.calculateEccAndFillMatrix(f,a,r,d);let E=i.maskPattern;E===null&&(E=h.findOptimalMaskPattern(d,r)),d.applyMaskPattern(E);const M=h.calculateVersionInfo(a);d.drawVersionInfo(M);const g=h.calculateFormatInfo(r,E);return d.drawFormatInfo(g),d}static render(t,e,i){const n={debug:pt,large:Dt,medium:gt,compact:vt,svg:q,"svg-uri":Rt,bmp:X,"bmp-uri":mt};if(!n[t])throw new Error("ERROR: Invalid render mode: "+t);return n[t](e,i)}};p(h,"VERSION_MIN",1),p(h,"VERSION_MAX",40),p(h,"ErrorCorrectionLevel",{L:1,M:0,Q:3,H:2}),p(h,"ECC_CODEWORDS_MAX",30),p(h,"PAD_CODEWORDS",60433);let C=h;function Mt(o,t,e,i=!1){const n=i?32:24,s=14,r={BITMAPCOREHEADER:12,BITMAPINFOHEADER:40,BITMAPV2INFOHEADER:52,BITMAPV3INFOHEADER:56,BITMAPV4HEADER:108,BITMAPV5HEADER:124},a=i?"BITMAPV4HEADER":"BITMAPCOREHEADER";if(!r.hasOwnProperty(a))throw`Unknown BMP header version: ${a}`;const c=r[a],f=4*Math.floor((t*Math.floor((n+7)/8)+3)/4),d=f*Math.abs(e),E=s+c,M=E+d,g=new ArrayBuffer(M),u=new DataView(g);if(u.setUint8(0,66),u.setUint8(1,77),u.setUint32(2,M,!0),u.setUint16(6,0,!0),u.setUint16(8,0,!0),u.setUint32(10,E,!0),c==r.BITMAPCOREHEADER?(u.setUint32(14,c,!0),u.setUint16(18,t,!0),u.setInt16(20,e,!0),u.setUint16(22,1,!0),u.setUint16(24,n,!0)):c>=r.BITMAPINFOHEADER&&(u.setUint32(14,c,!0),u.setUint32(18,t,!0),u.setInt32(22,e,!0),u.setUint16(26,1,!0),u.setUint16(28,n,!0),u.setUint32(30,i?3:0,!0),u.setUint32(34,d,!0),u.setUint32(38,2835,!0),u.setUint32(42,2835,!0),u.setUint32(46,0,!0),u.setUint32(50,0,!0)),c>=r.BITMAPV2INFOHEADER&&(u.setUint32(54,i?16711680:0,!0),u.setUint32(58,i?65280:0,!0),u.setUint32(62,i?255:0,!0)),c>=r.BITMAPV3INFOHEADER&&u.setUint32(66,i?4278190080:0,!0),c>=r.BITMAPV4HEADER){const v="Win ";u.setUint8(70,v.charCodeAt(0)),u.setUint8(71,v.charCodeAt(1)),u.setUint8(72,v.charCodeAt(2)),u.setUint8(73,v.charCodeAt(3)),u.setUint32(110,0,!0),u.setUint32(114,0,!0),u.setUint32(118,0,!0)}c>=r.BITMAPV5HEADER&&(u.setUint32(122,4,!0),u.setUint32(126,0,!0),u.setUint32(130,0,!0),u.setUint32(134,0,!0));for(let v=0;v<e;v++){let I=E+(e-1-v)*f;for(let D=0;D<t;D++){const m=o[v*t+D];u.setUint8(I+0,m[2]),u.setUint8(I+1,m[1]),u.setUint8(I+2,m[0]),i?(u.setUint8(I+3,m[3]),I+=4):I+=3}}return g}function pt(o,t){t=Object.assign({segments:["  ","██"],sep:`
`},t);const e=[];for(let i=-o.quiet;i<o.dimension+o.quiet;i++){const n=[];for(let s=-o.quiet;s<o.dimension+o.quiet;s++){let r=o.identifyModule(s,i);const c=(o.getModule(s,i)?!o.invert:o.invert)?1:0;(typeof r>"u"||r===null)&&(r=t.segments[c]),n.push(r)}e.push(n.join(""))}return e.join(t.sep)}function Dt(o,t){t=Object.assign({segments:["  ","██"],sep:`
`},t);const e=[];for(let i=-o.quiet;i<o.dimension+o.quiet;i++){const n=[];for(let s=-o.quiet;s<o.dimension+o.quiet;s++){const r=o.getModule(s,i)?!o.invert:o.invert,a=r?1:0,c=t.segments.length>=3&&r&&!o.identifyModule(s,i)?t.segments[2]:t.segments[a];n.push(c)}e.push(n.join(""))}return e.join(t.sep)}function gt(o,t){t=Object.assign({segments:[" ","▀","▄","█"],sep:`
`},t);const e=[];for(let i=-o.quiet;i<o.dimension+o.quiet;i+=2){const n=[];for(let s=-o.quiet;s<o.dimension+o.quiet;s++){const r=o.getModule(s,i)?!o.invert:o.invert,a=i+1<o.dimension&&o.getModule(s,i+1)?!o.invert:o.invert,c=(r?1:0)|(a?2:0),f=t.segments[c];n.push(f)}e.push(n.join(""))}return e.join(t.sep)}function vt(o,t){t=Object.assign({segments:[" ","▘","▝","▀","▖","▌","▞","▛","▗","▚","▐","▜","▄","▙","▟","█"],sep:`
`},t);const e=[];for(let i=-o.quiet;i<o.dimension+o.quiet;i+=2){const n=[];for(let s=-o.quiet;s<o.dimension+o.quiet;s+=2){let r=0;r|=(o.getModule(s,i)?!o.invert:o.invert)?1:0,r|=(s+1<o.dimension&&o.getModule(s+1,i)?!o.invert:o.invert)?2:0,r|=(i+1<o.dimension&&o.getModule(s,i+1)?!o.invert:o.invert)?4:0,r|=(i+1<o.dimension&&s+1<o.dimension&&o.getModule(s+1,i+1)?!o.invert:o.invert)?8:0;let a=t.segments[r];n.push(a)}e.push(n.join(""))}return e.join(t.sep)}function St(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}function q(o,t){t=Object.assign({moduleRound:null,finderRound:null,alignmentRound:null,white:!1,moduleSize:1},t);const e=`${-o.quiet-t.moduleSize/2}`,i=`${2*(o.quiet+t.moduleSize/2)+o.dimension-1}`,n=[];n.push('<?xml version="1.0"?>'),n.push(`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" viewBox="${e} ${e} ${i} ${i}" shape-rendering="crispEdges">`),n.push(`<title>${St(o.text)}</title>`),n.push("<defs>"),n.push(`<rect id="b" x="${-t.moduleSize/2}" y="${-t.moduleSize/2}" width="${t.moduleSize}" height="${t.moduleSize}" rx="${.5*(t.moduleRound||0)*t.moduleSize}" />`),t.white&&n.push('<path id="w" d="" visibility="hidden" />'),t.finderRound!=null?(n.push('<path id="f" d="" visibility="hidden" />'),t.white&&n.push('<path id="fw" d="" visibility="hidden" />'),n.push(`<g id="fc"><rect x="-3" y="-3" width="6" height="6" rx="${3*t.finderRound}" stroke="currentColor" stroke-width="1" fill="none" /><rect x="-1.5" y="-1.5" width="3" height="3" rx="${1.5*t.finderRound}" /></g>`),n.push(`<g id="fc"><rect x="-3" y="-3" width="6" height="6" rx="${3*t.finderRound}" stroke="currentColor" stroke-width="1" fill="none" /><rect x="-1.5" y="-1.5" width="3" height="3" rx="${1.5*t.finderRound}" /></g>`)):(n.push('<use id="f" xlink:href="#b" />'),t.white&&n.push('<use id="fw" xlink:href="#w" />'),n.push('<path id="fc" d="" visibility="hidden" />')),t.alignmentRound!=null?(n.push('<path id="a" d="" visibility="hidden" />'),t.white&&n.push('<path id="aw" d="" visibility="hidden" />'),n.push(`<g id="ac"><rect x="-2" y="-2" width="4" height="4" rx="${2*t.alignmentRound}" stroke="currentColor" stroke-width="1" fill="none" /><rect x="-0.5" y="-0.5" width="1" height="1" rx="${.5*t.alignmentRound}" /></g>`)):(n.push('<use id="a" xlink:href="#b" />'),t.white&&n.push('<use id="aw" xlink:href="#w" />'),n.push('<path id="ac" d="" visibility="hidden" />')),n.push("</defs>");for(let r=0;r<o.dimension;r++)for(let a=0;a<o.dimension;a++){const c=o.identifyModule(a,r);let f=o.getModule(a,r);o.invert&&(f=!f);let d=f?"b":"w";c=="Fi"||c=="FI"?d=f?"f":"fw":(c=="Al"||c=="AL")&&(d=f?"a":"aw"),(f||t.white)&&n.push(`<use x="${a}" y="${r}" xlink:href="#${d}" />`)}for(let r=0;r<o.dimension;r++)for(let a=0;a<o.dimension;a++){const c=o.identifyModule(a,r);let f=null;c=="FI"?f="fc":c=="AL"&&(f="ac"),f!=null&&n.push(`<use x="${a}" y="${r}" xlink:href="#${f}" />`)}return n.push("</svg>"),n.join(`
`)}function Rt(o,t){return"data:image/svg+xml,"+encodeURIComponent(q(o,t))}function X(o,t){t=Object.assign({scale:8,alpha:!1,width:null,height:null},t);const e=o.dimension+2*o.quiet;t.width===null&&(t.width=Math.floor(e*t.scale)),t.height===null&&(t.height=t.width);const i=Array(t.width*t.height).fill(null);for(let s=0;s<t.height;s++){const r=Math.floor(s*e/t.height)-o.quiet;for(let a=0;a<t.width;a++){const c=Math.floor(a*e/t.width)-o.quiet;let f=o.getModule(c,r),d;o.invert?d=f?[255,255,255,255]:[0,0,0,0]:d=f?[0,0,0,255]:[255,255,255,0],i[s*t.width+a]=d}}return Mt(i,t.width,t.height,t.alpha)}function mt(o,t){const e=X(o,t);return"data:image/bmp;base64,"+btoa(new Uint8Array(e).reduce((n,s)=>n+String.fromCharCode(s),""))}var yt=Y('<input type="text"> <img class="size-64" alt="generated qrcode"> <p>Generate: <a class="text-blue-500 font-semibold underline" target="_blank" aria-label="Generate SVG"> </a></p>',1);function Tt(o,t){it(t,!0);let e=at("hello"),i=H(()=>C.generate(A(e))),n=H(()=>C.render("svg-uri",A(i)));var s=yt(),r=nt(s);ut(r);var a=T(r,2),c=T(a,2),f=T(z(c)),d=z(f);$(f),$(c),st(()=>{x(a,"src",A(n)),x(f,"href",`${dt??""}/qr/${A(e)??""}.svg`),lt(d,`${A(e)??""}.svg`)}),Et(r,()=>A(e),E=>rt(e,E)),j(o,s),ot()}export{Tt as component};
